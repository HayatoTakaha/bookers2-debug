{"filter":false,"title":"users_controller.rb","tooltip":"/OurWarmTown/app/controllers/users_controller.rb","undoManager":{"mark":3,"position":3,"stack":[[{"start":{"row":0,"column":0},"end":{"row":56,"column":0},"action":"remove","lines":["class UsersController < ApplicationController","  before_action :authenticate_user!","  before_action :set_user, only: [:edit, :show, :update, :destroy, :liked_posts]","","  def mypage","    @user = current_user","    @posts = @user.posts.page(params[:page])","  end","  ","  def index","    @posts = @user.posts.order(created_at: :desc).page(params[:page]).per(8)","  end","  ","  def edit","  end","","  def show","    @posts = @user.posts.order(created_at: :desc).limit(3)","  end","","  def update","    if @user.update(user_params)","      redirect_to mypage_users_path, notice: 'ユーザー情報が更新されました'","    else","      render :edit","    end","  end","","  def destroy","    @user.destroy","    redirect_to root_path, notice: 'ユーザーが削除されました'","  end","","  def liked_posts","    @liked_posts = @user.liked_posts.page(params[:page])","  end","","  def search","  end","","  def search_results","  end","","  private","","  def set_user","    @user = User.find_by(id: params[:id])","    unless @user","      redirect_to root_path, alert: \"ユーザーが見つかりませんでした。\"","    end","  end","","  def user_params","    params.require(:user).permit(:name, :email, :password, :password_confirmation, :profile_image)","  end","end",""],"id":525}],[{"start":{"row":0,"column":0},"end":{"row":54,"column":0},"action":"insert","lines":["class UsersController < ApplicationController","  before_action :authenticate_user!","  before_action :set_user, only: [:edit, :show, :update, :destroy, :liked_posts]","","  def mypage","    @user = current_user","    @posts = @user.posts.page(params[:page])","  end","  ","  ","  ","  def edit","  end","","  def show","    @posts = @user.posts.order(created_at: :desc).limit(3)","  end","","  def update","    if @user.update(user_params)","      redirect_to mypage_users_path, notice: 'ユーザー情報が更新されました'","    else","      render :edit","    end","  end","","  def destroy","    @user.destroy","    redirect_to root_path, notice: 'ユーザーが削除されました'","  end","","  def liked_posts","    @liked_posts = @user.liked_posts.page(params[:page])","  end","","  def search","  end","","  def search_results","  end","","  private","","  def set_user","    @user = User.find_by(id: params[:id])","    unless @user","      redirect_to root_path, alert: \"ユーザーが見つかりませんでした。\"","    end","  end","","  def user_params","    params.require(:user).permit(:name, :email, :password, :password_confirmation, :profile_image)","  end","end",""],"id":526}],[{"start":{"row":9,"column":0},"end":{"row":9,"column":2},"action":"remove","lines":["  "],"id":527},{"start":{"row":8,"column":2},"end":{"row":9,"column":0},"action":"remove","lines":["",""]},{"start":{"row":8,"column":0},"end":{"row":8,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":7,"column":5},"end":{"row":8,"column":0},"action":"remove","lines":["",""],"id":528}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":2,"column":80},"end":{"row":2,"column":80},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1719407982836,"hash":"59b2d87d2d9d27a9923a5b0207d69c0d9938158c"}