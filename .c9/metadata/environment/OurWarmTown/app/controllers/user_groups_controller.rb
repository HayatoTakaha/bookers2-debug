{"filter":false,"title":"user_groups_controller.rb","tooltip":"/OurWarmTown/app/controllers/user_groups_controller.rb","undoManager":{"mark":3,"position":3,"stack":[[{"start":{"row":0,"column":0},"end":{"row":17,"column":0},"action":"remove","lines":["class UserGroupsController < ApplicationController","  def create","    @group = Group.find(params[:group_id])","    @user_group = @group.user_groups.build(user: current_user)","    if @user_group.save","      redirect_to group_path(@group)","    else","      redirect_to group_path(@group), alert: '参加できませんでした。'","    end","  end","","  def destroy","    @user_group = UserGroup.find(params[:id])","    @user_group.destroy","    redirect_to group_path(@user_group.group)","  end","end",""],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":12,"column":0},"action":"insert","lines":["class Group < ApplicationRecord","  # Associations","  belongs_to :owner, class_name: 'User', foreign_key: 'owner_id', optional: false","  has_one_attached :image","  has_many :user_groups","  has_many :users, through: :user_groups","  has_many :posts, dependent: :destroy","","  # Validations","  validates :name, presence: true","  validates :description, presence: true","end",""],"id":2}],[{"start":{"row":0,"column":0},"end":{"row":12,"column":0},"action":"remove","lines":["class Group < ApplicationRecord","  # Associations","  belongs_to :owner, class_name: 'User', foreign_key: 'owner_id', optional: false","  has_one_attached :image","  has_many :user_groups","  has_many :users, through: :user_groups","  has_many :posts, dependent: :destroy","","  # Validations","  validates :name, presence: true","  validates :description, presence: true","end",""],"id":3}],[{"start":{"row":0,"column":0},"end":{"row":23,"column":0},"action":"insert","lines":["class UserGroupsController < ApplicationController","  def create","    @group = Group.find(params[:group_id])","    @user_group = @group.user_groups.build(user: current_user)","    if @user_group.save","      redirect_to group_path(@group), notice: 'グループに参加しました。'","    else","      redirect_to group_path(@group), alert: 'グループに参加できませんでした。'","    end","  end","","  def destroy","    @user_group = UserGroup.find(params[:id])","    @user_group.destroy","    redirect_to group_path(@user_group.group), notice: 'グループから退出しました。'","  end","","  private","","  def user_group_params","    params.require(:user_group).permit(:user_id, :group_id)","  end","end",""],"id":4}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":23,"column":0},"end":{"row":23,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1718725389243,"hash":"2e9c68c6d3e3a1fe918639d1d625399a22503320"}